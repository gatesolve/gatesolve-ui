(this["webpackJsonpgatesolve-ui"]=this["webpackJsonpgatesolve-ui"]||[]).push([[0],{325:function(t,e,n){},326:function(t,e,n){},505:function(t,e,n){"use strict";n.r(e);var o=n(500),i=n(316),a=n(251),r=n(0),l=n.n(r),c=n(23),s=n(502),u=n(503),d=n(507),p=n(51),g=n(319),f=n(499),m=n(218),v=(n(321),n(322)),h={id:"route-line",type:"line",layout:{"line-cap":"round","line-join":"round"},paint:{"line-opacity":["coalesce",["get","opacity"],.8],"line-width":2,"line-color":["get","color"]},filter:["!",["coalesce",["get","imaginary"],!1]]},b={id:"route-imaginary-line",type:"line",layout:{"line-cap":"round","line-join":"round"},paint:{"line-opacity":["coalesce",["get","opacity"],.5],"line-width":5,"line-color":["get","color"],"line-dasharray":[0,2]},filter:["coalesce",["get","imaginary"],!1]},y={id:"route-point",type:"circle",paint:{"circle-opacity":["coalesce",["get","opacity"],1],"circle-radius":5,"circle-color":["get","color"]},filter:["==","Point",["geometry-type"]]},O={id:"building-highlight",type:"fill",paint:{"fill-opacity":.3,"fill-color":"#99ff99"}},E={id:"entrance-point",type:"circle",minzoom:12,paint:{"circle-radius":["interpolate",["linear"],["zoom"],12,1,14,3,15,5],"circle-color":"#64be14"},filter:["has","entrance"]},j={id:"entrance-symbol",type:"symbol",minzoom:16,paint:{"text-halo-color":"#fff","text-color":"#64be14","text-halo-width":3},layout:{"text-field":["coalesce",["get","ref"],["get","addr:unit"]],"text-anchor":"center","text-font":["Klokantech Noto Sans Regular"],"text-size":24,"text-offset":[0,-.8],"text-allow-overlap":!0},filter:["has","entrance"]},w={id:"route-point-symbol",type:"symbol",paint:{"text-color":"#000","text-halo-color":"#fff","text-halo-width":3},layout:{"text-field":["get","ref"],"text-anchor":"center","text-font":["Klokantech Noto Sans Regular"],"text-size":24,"text-offset":[0,-.05]},filter:["==","Point",["geometry-type"]]},x="M7.5 0C5.068 0 2.23 1.486 2.23 5.27c0 2.568 4.054 8.244 5.27 9.73c1.081-1.486 5.27-7.027 5.27-9.73C12.77 1.487 9.932 0 7.5 0z",C=function(t){var e=t.height,n=void 0===e?"50":e,o=t.style,i=void 0===o?{fill:"#444",stroke:"none"}:o,a=t.dataTestId;return(l.a.createElement("svg",{"data-testid":a,height:n,style:i,viewBox:"-1 -1 17 17",pointerEvents:"none"},l.a.createElement("path",{fill:"url(#gradient-".concat(i.fill,")"),d:x,pointerEvents:"visiblepainted",cursor:"pointer"}),l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"gradient-".concat(i.fill),gradientTransform:"rotate(90)"},l.a.createElement("stop",{offset:"00%",stopColor:"#FFFFFF",stopOpacity:"0"}),l.a.createElement("stop",{offset:"100%",stopColor:i.fill,stopOpacity:"1"})))))},k=function(t){var e=t.dataTestId,n=t.width,o=void 0===n?"40":n,i=t.height,a=void 0===i?"40":i,r=t.stroke,c=void 0===r?"#00afff":r,s=t.strokeWidth,u=void 0===s?"16":s;return(l.a.createElement("svg",{"data-testid":e,width:o,height:a,stroke:c,strokeWidth:u,viewBox:"-100 -100 200 200",fill:"transparent",style:{position:"absolute"}},l.a.createElement("circle",{cx:"0",cy:"0",r:"24"}),l.a.createElement("circle",{cx:"0",cy:"0",r:"46"}),l.a.createElement("circle",{cx:"0",cy:"0",r:"68"})))},P=function(t){var e=t.dataTestId,n=t.onGeolocate,o=t.onGeolocateError,i=t.positionOptions,c=void 0===i?{enableHighAccuracy:!0,timeout:6e3}:i,s=t.onEnable,u=t.onDisable,d=t.enableOnMount,p=void 0===d||d,g=Object(r.useState)(null!=window.navigator.geolocation),f=Object(a.a)(g,1)[0],m=Object(r.useState)(null!=window.navigator.permissions),v=Object(a.a)(m,1)[0],h=Object(r.useState)(null),b=Object(a.a)(h,2),y=b[0],O=b[1],E=Object(r.useState)(null),j=Object(a.a)(E,2),w=j[0],x=j[1],C=Object(r.useState)(!1),k=Object(a.a)(C,2),P=k[0],S=k[1],L=function(t){f&&null==w&&(x(window.navigator.geolocation.watchPosition(n,o,c)),S(!0),null!=s&&s(t))},M=function(){f&&null!=w&&(window.navigator.geolocation.clearWatch(w),x(null),null!=u&&u())},F=function(){console.log("Geolocation is denied. Inform the user.")};Object(r.useEffect)((function(){f||console.log("Geolocation is not supported. Inform the user.")}),[f]),Object(r.useEffect)((function(){f&&v&&null==y&&v&&window.navigator.permissions.query({name:"geolocation"}).then((function(t){O(t.state),t.onchange=function(){O(this.state)}})).catch((function(t){console.error("Permissions API exists but querying it fails:",t)}))}),[]),Object(r.useEffect)((function(){"denied"===y&&(F(),M())}),[y]);var N=!v||null!=y,I=null!=w;Object(r.useEffect)((function(){!p||P||!f||I||v&&(null==y||"denied"===y)||L(!1)}),[p,P,f,I,v,y]);var q=null;if(f){var z=I?"Stop using my location":"Find my location",D=I?"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate mapboxgl-ctrl-geolocate-active":"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate";q=l.a.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group mapboxgl-ctrl-bottom-left"},l.a.createElement("button",{type:"button",className:D,"data-testid":e,"aria-label":z,"aria-pressed":I,onContextMenu:function(t){return t.preventDefault()},onClick:N?function(t){console.assert(f),console.assert(N),t.preventDefault(),I?M():v&&"denied"===y?F():L(!0)}:void 0},l.a.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"})))}return q},S=n(118),L=n.n(S),M=n(324);function F(t){var e=[],n=[],o=new Map,i=[];return t.legs[0].getSteps().forEach((function(a,r){var l,c;if(a.startLocation.id||a.stopLocation.id||1===r){var s=a.stopLocation;"https://w3id.org/openstreetmap/terms#Steps"===(null===(l=t.context[a.through])||void 0===l?void 0:l.definedTags["https://w3id.org/openstreetmap/terms#highway"])&&(o.has(a.through)||o.set(a.through,[]),o.get(a.through).push([a.startLocation.longitude,a.startLocation.latitude],[a.stopLocation.longitude,a.stopLocation.latitude])),(null===(c=s.definedTags)||void 0===c?void 0:c["https://w3id.org/openstreetmap/terms#barrier"])&&(console.log(a.through,s.definedTags["https://w3id.org/openstreetmap/terms#barrier"].replace(/^.*#/,""),s.id,s.definedTags,s.freeformTags),n.push([s.longitude,s.latitude])),e.push([a.startLocation.longitude,a.startLocation.latitude]),e.push([a.stopLocation.longitude,a.stopLocation.latitude])}else i.push([[a.startLocation.longitude,a.startLocation.latitude],[a.stopLocation.longitude,a.stopLocation.latitude]])})),{coordinates:e,obstacles:n,obstacleWays:Array.from(o.values()),imaginaryWays:i}}function N(t,e,n,o){var i=[];return t&&i.push({type:"Feature",geometry:{type:"Point",coordinates:[t[1],t[0]]},properties:{color:"#00afff"}}),e&&e.forEach((function(t){i.push({type:"Feature",geometry:{type:"Point",coordinates:[t.lon,t.lat]},properties:{color:"#64be14"}})})),n&&n.forEach((function(t){var e,n;i.push({type:"Feature",geometry:{type:"Point",coordinates:[t.lon,t.lat]},properties:{color:"#00ffff",ref:(null===(e=t.tags)||void 0===e?void 0:e.ref)||(null===(n=t.tags)||void 0===n?void 0:n["addr:unit"]),opacity:0}})})),(null===o||void 0===o?void 0:o.coordinates)&&i.push({type:"Feature",geometry:{type:"LineString",coordinates:o.coordinates},properties:{color:"#000"}}),(null===o||void 0===o?void 0:o.obstacleWays)&&i.push({type:"Feature",geometry:{type:"MultiLineString",coordinates:o.obstacleWays},properties:{color:"#dc0451",opacity:1}}),(null===o||void 0===o?void 0:o.imaginaryWays)&&i.push({type:"Feature",geometry:{type:"MultiLineString",coordinates:o.imaginaryWays},properties:{color:"#000",imaginary:!0}}),(null===o||void 0===o?void 0:o.obstacles)&&i.push({type:"Feature",geometry:{type:"MultiPoint",coordinates:o.obstacles},properties:{color:"#dc0451",ref:"!"}}),{type:"FeatureCollection",features:i}}function I(){return(I=Object(M.a)(L.a.mark((function t(e,o,i){var a,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(4),n.e(2)]).then(n.bind(null,504));case 2:a=t.sent,r=a.Planner,o.forEach((function(t){var n=new r;n.setProfileID("".concat("https","://").concat("","/delivery.json")).query({from:{latitude:e[0],longitude:e[1]},to:{latitude:t.lat,longitude:t.lon}}).take(1).on("data",function(){var o=Object(M.a)(L.a.mark((function o(a){var r,l,c;return L.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.completePath(a);case 2:r=o.sent,console.log("Plan",r,"from",e,"to",t),l=F(r),c=N(e,[t],void 0,l),i(c);case 7:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}())}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var q=function(t){var e,n;return{width:null===t||void 0===t?void 0:null===(e=t.getContainer())||void 0===e?void 0:e.clientWidth,height:null===t||void 0===t?void 0:null===(n=t.getContainer())||void 0===n?void 0:n.clientHeight}},z=(n(325),n(326),function(t){return{id:-1,type:"node",lat:t[0],lon:t[1]}}),D=function(t){return[t.lat,t.lon]},G={entrances:[],route:N(),highlights:{type:"FeatureCollection",features:[]},viewport:{latitude:60.17,longitude:24.941,zoom:15,bearing:0,pitch:0},isOriginExplicit:!1,isGeolocating:!1,geolocationPosition:null,popupCoordinates:null},T=[60.17066815612902,24.941510260105133],R=function(t){return{url:t.replace("https://static.hsldev.com/mapfonts/Klokantech Noto Sans","https://fonts.openmaptiles.org/Klokantech Noto Sans")}},W=function(t,e){return Object(m.distance)([t[1],t[0]],[e[1],e[0]],{units:"metres"})},A=function(t){if(t){var e=t.split(",");if(2===e.length&&e[0].length&&e[1].length){var n=e.map(Number),o=Object(a.a)(n,2),i=o[0],r=o[1];if(!Number.isNaN(i)&&r>-90&&r<90)return[i,r]}}},B=function(t,e){var n=new f.a(t),o=e.filter((function(t){return t}));if(!o.length)return t;var a=Math.min.apply(Math,Object(i.a)(o.map((function(t){return t[1]})))),r=Math.max.apply(Math,Object(i.a)(o.map((function(t){return t[1]})))),l=Math.min.apply(Math,Object(i.a)(o.map((function(t){return t[0]})))),c=Math.max.apply(Math,Object(i.a)(o.map((function(t){return t[0]}))));return n.fitBounds([[a,l],[r,c]],{padding:{top:110,bottom:25,left:45,right:45},maxZoom:17})};e.default=function(){var t,e,n,i,f,m,S,L,M,F,H,K,J=Object(r.useRef)(null),U=Object(r.useRef)(null);Object(r.useEffect)((function(){if(J.current){var t=J.current.getMap();null===t||void 0===t||t.on("styleimagemissing",(function(e){var n=e.id;if(null===n||void 0===n?void 0:n.startsWith("icon-pin-")){var o=n.split("-"),i=Object(a.a)(o,5),r=i[2],l=i[3],c=i[4],s=function(t,e){return'\n<svg xmlns="http://www.w3.org/2000/svg"\n  width="'.concat(t,'px"\n  height="').concat(t,'px"\n  style="').concat(e,'"\n  viewBox="').concat("-1 -1 17 17",'"\n>\n  <path d="').concat(x,'" />\n</svg>')}(r,"fill: ".concat(l,"; stroke: ").concat(c));!function(t,e,n,o){var i=window.devicePixelRatio,a=document.createElement("canvas");a.width=i*o,a.height=i*o;var r=a.getContext("2d"),l=new Image(o,o),c="data:image/svg+xml,".concat(encodeURIComponent(n));l.onload=function(){if(!r)throw Error("canvas.getContext failed");r.drawImage(l,0,0,i*o,i*o),t.addImage(e,r.getImageData(0,0,i*o,i*o),{pixelRatio:i})},l.src=c}(t,n,s,r)}}))}}),[J]);var _=Object(c.e)({path:"/route/:from?/:to?"}),V=Object(r.useState)(G),Z=Object(a.a)(V,2),Q=Z[0],X=Z[1],Y=function(t,e){var n;return B(Object(o.a)({},t,{},q(null===(n=J.current)||void 0===n?void 0:n.getMap())),e)};Object(r.useEffect)((function(){if(J.current){var t=q(J.current.getMap()),e=t.width,n=t.height;if(_&&null!=e&&e>0&&null!=n&&n>0){var i=A(_.params.from),a=A(_.params.to),r=Object(o.a)({},Q.viewport,{width:e,height:n}),l=B(r,[i,a]);X((function(t){return Object(o.a)({},t,{origin:i,isOriginExplicit:null!=i,destination:a&&z(a),viewport:Object(o.a)({},t.viewport,{},l)})}))}}}),[J]);var $=Object(c.d)(),tt=Object(p.useSnackbar)(),et=null===tt||void 0===tt?void 0:tt.enqueueSnackbar,nt=null===tt||void 0===tt?void 0:tt.closeSnackbar;Object(r.useEffect)((function(){var t=Q.destination&&[Q.destination.lat,Q.destination.lon],e="/route/".concat(Q.origin,"/").concat(t,"/");$.location.pathname!==e&&$.replace(e)}),[$,Q.origin,Q.destination]),Object(r.useEffect)((function(){Q.destination&&function(t){var e,n,o=new URL("https://overpass.rwqr.org/api/interpreter");return o.searchParams.append("data",(e=t.lat,n=t.lon,"\n  [out:json][timeout:25];\n  (\n    relation(around:10, ".concat(e,", ").concat(n,")[building];\n    way(r);\n    way(around:10, ").concat(e,", ").concat(n,")[building];\n  )->.b;\n  // gather results\n  (\n    node(w.b)[entrance];\n  );\n  // print results\n  out body;\n  >;\n  out skel qt;\n"))),fetch(o.toString()).then((function(t){return t.json().then((function(t){return t.elements.filter((function(t){return"node"===t.type&&"lat"in t&&null!=t.lat&&"lon"in t&&null!=t.lon&&t.tags&&t.tags.entrance}))}))}))}(Q.destination).then((function(t){X((function(e){if(!Q.destination)return e;if(e.destination!==Q.destination)return e;var n=t.length?t:[Q.destination];return Object(o.a)({},e,{entrances:n})}))}))}),[Q.destination]),Object(r.useEffect)((function(){if(Q.snackbar&&nt(Q.snackbar),Q.origin&&Q.destination&&Q.entrances){var t=[];if(Q.entrances.forEach((function(e){Q.destination&&Q.destination.type===e.type&&Q.destination.id===e.id&&(t=[e])})),t.length||(t=Q.entrances),X((function(t){return Object(o.a)({},t,{route:N()})})),W(Q.origin,D(Q.destination))>200){var e=Q.isOriginExplicit?"Distance too long!":"Routing starts when distance is shorter",n=et(e,{variant:"warning",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"center"},action:l.a.createElement(l.a.Fragment,null,Q.isOriginExplicit&&l.a.createElement(s.a,{onClick:function(){X((function(t){return Object(o.a)({},t,{origin:t.geolocationPosition||void 0,isOriginExplicit:!1,viewport:Y(t.viewport,[t.destination&&D(t.destination)])})}))}},"Discard origin"),l.a.createElement(s.a,{onClick:function(){X((function(t){return Object(o.a)({},t,{destination:void 0,viewport:Y(t.viewport,[t.origin])})}))}},"Discard destination"),l.a.createElement(s.a,{target:"_blank",rel:"noreferrer",href:"https://www.google.com/maps/dir/?api=1&origin=".concat(Q.origin[0],",").concat(Q.origin[1],"&destination=").concat(Q.destination.lat,",").concat(Q.destination.lon)},"Google Maps"),l.a.createElement(u.a,{"aria-label":"close",onClick:function(){return nt(n)}},l.a.createElement(d.a,null)))});X((function(t){return Object(o.a)({},t,{snackbar:n})}))}else!function(t,e,n){I.apply(this,arguments)}(Q.origin,t,(function(t){X((function(e){if(Q.origin!==e.origin||Q.entrances!==e.entrances||Q.destination!==e.destination)return e;var n=Object(o.a)({},t,{features:t.features.concat(e.route.features)});return Object(o.a)({},e,{route:n})}))}))}}),[Q.origin,Q.entrances]);var ot=function(t){var e,n=null===(e=J.current)||void 0===e?void 0:e.getMap().queryRenderedFeatures(t.point)[0];X((function(e){if(null===n||void 0===n?void 0:n.properties.entrance){var i={id:n.properties["@id"],type:n.properties["@type"],lat:n.geometry.coordinates[1],lon:n.geometry.coordinates[0],tags:n.properties};return e.origin&&W(e.origin,[n.geometry.coordinates[1],n.geometry.coordinates[0]])<200?Object(o.a)({},e,{destination:i,popupCoordinates:i,highlights:{type:"FeatureCollection",features:[]}}):Object(o.a)({},e,{popupCoordinates:i})}return"building"===(null===n||void 0===n?void 0:n.sourceLayer)?Object(o.a)({},e,{highlights:n.toJSON(),destination:z([t.lngLat.lat,t.lngLat.lng])}):e.popupCoordinates?Object(o.a)({},e,{popupCoordinates:null}):Object(o.a)({},e,{popupCoordinates:z([t.lngLat.lat,t.lngLat.lng]),highlights:{type:"FeatureCollection",features:[]}})}))};return l.a.createElement("div",{"data-testid":"app",className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("h2",null,"Gatesolve")),l.a.createElement("div",{className:"App-shadow"}),l.a.createElement(v.ReactAutosuggestGeocoder,{ref:U,url:"https://api.digitransit.fi/geocoding/v1",sources:"oa,osm,nlsfi",highlightFirstSuggestion:!0,inputProps:{placeholder:"Destination name or address"},center:{latitude:(null===(t=Q.geolocationPosition)||void 0===t?void 0:t[0])||(null===(e=Q.origin)||void 0===e?void 0:e[0])||(null===(n=Q.destination)||void 0===n?void 0:n.lat)||T[0],longitude:(null===(i=Q.geolocationPosition)||void 0===i?void 0:i[1])||(null===(f=Q.origin)||void 0===f?void 0:f[1])||(null===(m=Q.destination)||void 0===m?void 0:m.lon)||T[1]},onSuggestionSelected:function(t,e){var n=e.suggestion,i=[n.geometry.coordinates[1],n.geometry.coordinates[0]],r=n.properties.source_id.split(":"),l=Object(a.a)(r,2),c=l[0],s=l[1];X((function(t){var e=t.origin&&W(t.origin,i)<200?[t.origin,i]:[i],n=Y(t.viewport,e);return Object(o.a)({},t,{origin:t.origin,destination:{lat:i[0],lon:i[1],type:c,id:Number(s)},entrances:[],viewport:Object(o.a)({},t.viewport,{},n)})}))}}),l.a.createElement(g.e,Object.assign({ref:J},Q.viewport,{style:{width:"100%",height:"90%"},mapStyle:"https://raw.githubusercontent.com/HSLdevcom/hsl-map-style/master/simple-style.json",transformRequest:R,onViewportChange:function(t){X((function(e){return Object(o.a)({},e,{viewport:t})}))},onHover:function(t){var e,n=null===(e=t.features)||void 0===e?void 0:e[0],o=(null===n||void 0===n?void 0:n.properties.entrance)?"pointer":"grab",i=document.querySelector(".overlays");i&&(i.style.cursor=o)},onClick:ot,onContextmenu:ot}),l.a.createElement(P,{dataTestId:"geolocate-control",enableOnMount:!0,onEnable:function(t){X((function(e){return Object(o.a)({},e,{isOriginExplicit:!t&&e.isOriginExplicit,isGeolocating:!0})}))},onDisable:function(){X((function(t){return Object(o.a)({},t,{isGeolocating:!1,geolocationPosition:null})}))},onGeolocate:function(t){return X((function(e){if(e.isGeolocating){var n=null==e.geolocationPosition,i=[t.coords.latitude,t.coords.longitude],a=n&&!e.isOriginExplicit?Y(e.viewport,[i,e.destination&&D(e.destination)]):e.viewport,r=Object(o.a)({},e,{geolocationPosition:i,viewport:a});return!e.isOriginExplicit&&(null==e.origin||W(e.origin,i)>20)?Object(o.a)({},r,{origin:i}):r}return e}))}}),null!=Q.geolocationPosition&&l.a.createElement(g.b,{offset:[-20,-20],longitude:Q.geolocationPosition[1],latitude:Q.geolocationPosition[0]},l.a.createElement(k,{dataTestId:"user-marker"})),l.a.createElement(g.d,{id:"osm-qa-tiles",type:"vector",tiles:["https://tile.olmap.org/osm-qa-tiles/{z}/{x}/{y}.pbf"],minzoom:12,maxzoom:12},l.a.createElement(g.a,Object.assign({"source-layer":"osm"},E,{source:"osm-qa-tiles"})),l.a.createElement(g.a,Object.assign({"source-layer":"osm"},j,{source:"osm-qa-tiles"}))),l.a.createElement(g.d,{id:"highlights",type:"geojson",data:Q.highlights},l.a.createElement(g.a,Object.assign({},O,{source:"highlights"}))),l.a.createElement(g.d,{id:"route",type:"geojson",data:Q.route},l.a.createElement(g.a,Object.assign({},h,{source:"route"})),l.a.createElement(g.a,Object.assign({},b,{source:"route"})),l.a.createElement(g.a,Object.assign({},y,{source:"route"})),l.a.createElement(g.a,Object.assign({},w,{source:"route"}))),Q.origin&&l.a.createElement(g.b,{className:"PinMarker",draggable:!0,offset:[0,-22.5],onDragEnd:function(t){X((function(e){return Object(o.a)({},e,{origin:[t.lat,t.lng],isOriginExplicit:!0})}))},longitude:Q.origin[1],latitude:Q.origin[0]},l.a.createElement(C,{dataTestId:"origin",style:{fill:"#00afff",stroke:"#fff"}})),Q.destination&&l.a.createElement(g.b,{className:"PinMarker",draggable:!0,offset:[0,-22.5],onDragEnd:function(t){U.current.clear(),X((function(e){return Object(o.a)({},e,{destination:z([t.lat,t.lng])})}))},longitude:Q.destination.lon,latitude:Q.destination.lat},l.a.createElement(C,{dataTestId:"destination",style:{fill:"#64be14",stroke:"#fff"}})),l.a.createElement(g.c,{open:null!=Q.popupCoordinates,latitude:(null===(S=Q.popupCoordinates)||void 0===S?void 0:S.lat)||null,longitude:(null===(L=Q.popupCoordinates)||void 0===L?void 0:L.lon)||null,closeButton:!1,closeOnClick:!1},Q.popupCoordinates&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("h3",null,null===(M=Q.popupCoordinates.tags)||void 0===M?void 0:M["addr:street"]," ",null===(F=Q.popupCoordinates.tags)||void 0===F?void 0:F["addr:housenumber"]," ",(null===(H=Q.popupCoordinates.tags)||void 0===H?void 0:H.ref)||(null===(K=Q.popupCoordinates.tags)||void 0===K?void 0:K["addr:unit"]))),l.a.createElement("p",null,Q.popupCoordinates.tags&&l.a.createElement("table",{style:{textAlign:"left"}},Object.entries(Q.popupCoordinates.tags).filter((function(t){var e=Object(a.a)(t,1)[0];return!e.startsWith("@")&&!["addr:street","addr:housenumber","addr:unit","ref"].find((function(t){return e===t}))})).map((function(t){var e=Object(a.a)(t,2),n=e[0],o=e[1];return(l.a.createElement("tr",{key:"".concat(n,"-").concat(o)},l.a.createElement("td",{style:{padding:"0 5px 0 0"}},n),l.a.createElement("td",null,o)))}))))),l.a.createElement(s.a,{"data-testid":"origin-button",variant:"contained",size:"small",style:{backgroundColor:"#00afff",color:"#fff"},type:"button","aria-label":"Set origin",onClick:function(){return X((function(t){return null!=t.popupCoordinates?Object(o.a)({},t,{origin:D(t.popupCoordinates),isOriginExplicit:!0,popupCoordinates:null}):Object(o.a)({},t,{isOriginExplicit:!0,popupCoordinates:null})}))}},"Origin"),l.a.createElement("span",{style:{padding:"5px"}}),l.a.createElement(s.a,{"data-testid":"destination-button",variant:"contained",size:"small",style:{backgroundColor:"#64be14",color:"#fff"},type:"button","aria-label":"Set destination",onClick:function(){return X((function(t){return null!=t.popupCoordinates?Object(o.a)({},t,{destination:t.popupCoordinates,popupCoordinates:null}):Object(o.a)({},t,{popupCoordinates:null})}))}},"Destination")))))}}},0,[4,2]]);
//# sourceMappingURL=App.641ee6c1.chunk.js.map